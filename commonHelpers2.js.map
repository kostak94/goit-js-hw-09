{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\nconst LS_KEY = 'feedback-form-state';\nconst email = form.elements.email;\nconst message = form.elements.message;\n\nform.addEventListener('input', handlerFormInput);\nform.addEventListener('submit', handlerFormSubmit);\ndocument.addEventListener('DOMContentLoaded', onLoadHandler);\n\nfunction onLoadHandler() {\n  const data = getDataFromLocalStorage(LS_KEY);\n  if (!data) {\n    return;\n  }\n  email.value = data.email;\n  message.value = data.message;\n}\n\nfunction handlerFormInput() {\n  const email = form.elements.email;\n  const message = form.elements.message;\n  const data = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n  addDataToLocalStorage(LS_KEY, data);\n}\n\nfunction handlerFormSubmit(e) {\n  e.preventDefault();\n  if (!email.value.trim() || !message.value.trim())\n    return alert('Some fields empty...');\n  console.log({ email: email.value.trim(), message: message.value.trim() });\n  form.reset();\n  clearLocalStorage();\n}\n\nfunction addDataToLocalStorage(key, value) {\n  try {\n    const normalizedValue = JSON.stringify(value);\n    localStorage.setItem(key, normalizedValue);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nfunction getDataFromLocalStorage(key) {\n  try {\n    const normalizedState = localStorage.getItem(key);\n    return normalizedState === null ? undefined : JSON.parse(normalizedState);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction clearLocalStorage() {\n  localStorage.clear();\n}\n"],"names":["form","LS_KEY","email","message","handlerFormInput","handlerFormSubmit","onLoadHandler","data","getDataFromLocalStorage","addDataToLocalStorage","clearLocalStorage","key","value","normalizedValue","error","normalizedState"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAS,sBACTC,EAAQF,EAAK,SAAS,MACtBG,EAAUH,EAAK,SAAS,QAE9BA,EAAK,iBAAiB,QAASI,CAAgB,EAC/CJ,EAAK,iBAAiB,SAAUK,CAAiB,EACjD,SAAS,iBAAiB,mBAAoBC,CAAa,EAE3D,SAASA,GAAgB,CACvB,MAAMC,EAAOC,EAAwBP,CAAM,EACtCM,IAGLL,EAAM,MAAQK,EAAK,MACnBJ,EAAQ,MAAQI,EAAK,QACvB,CAEA,SAASH,GAAmB,CAC1B,MAAMF,EAAQF,EAAK,SAAS,MACtBG,EAAUH,EAAK,SAAS,QACxBO,EAAO,CACX,MAAOL,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EACEM,EAAsBR,EAAQM,CAAI,CACpC,CAEA,SAASF,EAAkB,EAAG,CAE5B,GADA,EAAE,eAAc,EACZ,CAACH,EAAM,MAAM,KAAM,GAAI,CAACC,EAAQ,MAAM,KAAM,EAC9C,OAAO,MAAM,sBAAsB,EACrC,QAAQ,IAAI,CAAE,MAAOD,EAAM,MAAM,OAAQ,QAASC,EAAQ,MAAM,KAAI,CAAI,CAAA,EACxEH,EAAK,MAAK,EACVU,GACF,CAEA,SAASD,EAAsBE,EAAKC,EAAO,CACzC,GAAI,CACF,MAAMC,EAAkB,KAAK,UAAUD,CAAK,EAC5C,aAAa,QAAQD,EAAKE,CAAe,CAC1C,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CACA,SAASN,EAAwBG,EAAK,CACpC,GAAI,CACF,MAAMI,EAAkB,aAAa,QAAQJ,CAAG,EAChD,OAAOI,IAAoB,KAAO,OAAY,KAAK,MAAMA,CAAe,CACzE,OAAQD,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,SAASJ,GAAoB,CAC3B,aAAa,MAAK,CACpB"}